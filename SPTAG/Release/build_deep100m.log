nohup: ignoring input
[1] Using AVX512 InstructionSet!
[1] Set QuantizerFile = 
[1] Setting Dim with value 96
[1] Setting DistCalcMethod with value L2
[1] Setting IndexAlgoType with value BKT
[1] Setting IndexDirectory with value deep100m
[1] Setting QueryPath with value /mnt/data/deep/query.public.10K.fvecs
[1] Setting QueryType with value XVEC
[1] Setting TruthPath with value /mnt/data/deep/deep_query_learn100M_gt100.ivecs
[1] Setting TruthType with value XVEC
[1] Setting ValueType with value Float
[1] Setting VectorPath with value /mnt/data/deep/learn.100M.fvecs
[1] Setting VectorType with value XVEC
[1] Setting WarmupPath with value /mnt/data/deep/query.public.10K.fvecs
[1] Setting WarmupType with value XVEC
[1] Setting isExecute with value true
[1] Setting SearchInternalResultNum with value 32
[1] Setting BuildSsdIndex with value true
[1] Setting HashTableExponent with value 4
[1] Setting InternalResultNum with value 64
[1] Setting isExecute with value true
[1] Setting MaxCheck with value 2048
[1] Setting MaxDistRatio with value 8.0
[1] Setting NumberOfThreads with value 1
[1] Setting PostingPageLimit with value 12
[1] Setting ReplicaCount with value 4
[1] Setting ResultNum with value 10
[1] Setting SearchPostingPageLimit with value 12
[1] Setting TmpDir with value /tmp/
[1] Setting BKTKmeansK with value 32 #
[1] Setting BKTLambdaFactor with value -1
[1] Setting BKTLeafSize with value 8
[1] Setting isExecute with value true
[1] Setting NumberOfThreads with value 32
[1] Setting Ratio with value 0.16
[1] Setting SamplesNumber with value 1000
[1] Setting SaveBKT with value false
[1] Setting SelectThreshold with value 50
[1] Setting SplitFactor with value 6
[1] Setting SplitThreshold with value 100
[1] Setting TreeNumber with value 1
[1] Begin Select Head...
[1] Begin initial data (100000000,96)...
[1] Begin Adjust Parameters...
[1] Start generating BKT.
[1] Start invoking BuildTrees.
[1] BKTKmeansK: 32, BKTLeafSize: 8, Samples: 1000, BKTLambdaFactor:-1.000000 TreeNumber: 1, ThreadNum: 32.
[1] Lambda:min(1,0.000632614) Max:5243405 Min:1228778 Avg:3125000.000000 Std/Avg:0.364293 Dist:93212064.000000 NonZero/Total:32/32
[1] Lambda:min(0.1,0.000559666) Max:5001860 Min:1327274 Avg:3125000.000000 Std/Avg:0.302320 Dist:93660392.000000 NonZero/Total:32/32
[1] Lambda:min(0.01,0.000504027) Max:5996651 Min:932442 Avg:3125000.000000 Std/Avg:0.385820 Dist:93586272.000000 NonZero/Total:32/32
[1] Lambda:min(0.001,0.000690287) Max:4689263 Min:1404108 Avg:3125000.000000 Std/Avg:0.266476 Dist:93440496.000000 NonZero/Total:32/32
[1] Lambda:min(0.0001,0.000553545) Max:5355162 Min:1402597 Avg:3125000.000000 Std/Avg:0.364965 Dist:93535224.000000 NonZero/Total:32/32
[1] Lambda:min(1e-05,0.000585225) Max:5765198 Min:645307 Avg:3125000.000000 Std/Avg:0.391015 Dist:93925152.000000 NonZero/Total:32/32
[1] Lambda:min(1e-06,0.000422648) Max:5408311 Min:1103283 Avg:3125000.000000 Std/Avg:0.384476 Dist:93838832.000000 NonZero/Total:32/32
[1] Best Lambda Factor:1.000000
[1] Start to build BKTree 1
[1] Lambda:min(0.001,0.000675764) Max:5051379 Min:1224089 Avg:3125000.000000 Std/Avg:0.309161 Dist:93230320.000000 NonZero/Total:32/32
[1] Lambda:min(0.001,0.000680718) Max:359430 Min:14345 Avg:157855.562500 Std/Avg:0.476953 Dist:3085323.000000 NonZero/Total:32/32
[1] Lambda:min(0.001,0.000239724) Max:26923 Min:0 Avg:11232.156250 Std/Avg:0.642734 Dist:128929.312500 NonZero/Total:29/32
[1] Lambda:min(0.001,0.000200921) Max:3109 Min:0 Avg:841.312500 Std/Avg:0.728419 Dist:6474.574219 NonZero/Total:31/32
[1] Lambda:min(0.001,0.000377141) Max:266 Min:0 Avg:97.125000 Std/Avg:0.753773 Dist:714.600342 NonZero/Total:29/32
[1] Lambda:min(0.00377358,0.000607536) Max:28 Min:1 Avg:8.281250 Std/Avg:0.885426 Dist:48.926414 NonZero/Total:32/32
[1] Lambda:min(0.037037,0.00447223) Max:14 Min:1 Avg:6.750000 Std/Avg:0.866223 Dist:5.163135 NonZero/Total:4/4
[1] Lambda:min(0.0769231,0.00554689) Max:9 Min:4 Avg:6.500000 Std/Avg:0.384615 Dist:2.275301 NonZero/Total:2/2
[1] 1 BKTree built, 100000002 100000000
[1] End invoking BuildTrees.
[1] Invoking BuildTrees used time: 21.78 minutes (about 0.36 hours).
[1] Finish generating BKT.
[1] Start selecting nodes...Select Head Dynamically...
[1] Select Threshold: 2, Split Threshold: 53, diff: 3.77%.
[1] Select Threshold: 2, Split Threshold: 76, diff: 3.77%.
[1] Select Threshold: 2, Split Threshold: 88, diff: 3.77%.
[1] Select Threshold: 2, Split Threshold: 94, diff: 3.77%.
[1] Select Threshold: 2, Split Threshold: 97, diff: 3.77%.
[1] Select Threshold: 2, Split Threshold: 98, diff: 3.77%.
[1] Select Threshold: 2, Split Threshold: 99, diff: 3.77%.
[1] Select Threshold: 3, Split Threshold: 53, diff: 1.40%.
[1] Select Threshold: 3, Split Threshold: 76, diff: 1.40%.
[1] Select Threshold: 3, Split Threshold: 88, diff: 1.40%.
[1] Select Threshold: 3, Split Threshold: 94, diff: 1.40%.
[1] Select Threshold: 3, Split Threshold: 97, diff: 1.40%.
[1] Select Threshold: 3, Split Threshold: 98, diff: 1.40%.
[1] Select Threshold: 3, Split Threshold: 99, diff: 1.40%.
[1] Select Threshold: 4, Split Threshold: 53, diff: -0.53%.
[1] Select Threshold: 4, Split Threshold: 29, diff: -0.04%.
[1] Select Threshold: 4, Split Threshold: 17, diff: 0.71%.
[1] Select Threshold: 4, Split Threshold: 23, diff: 0.33%.
[1] Select Threshold: 4, Split Threshold: 26, diff: 0.14%.
[1] Select Threshold: 4, Split Threshold: 27, diff: 0.08%.
[1] Select Threshold: 4, Split Threshold: 28, diff: 0.02%.
[1] Select Threshold: 5, Split Threshold: 53, diff: -2.43%.
[1] Select Threshold: 5, Split Threshold: 29, diff: -1.22%.
[1] Select Threshold: 5, Split Threshold: 17, diff: -0.36%.
[1] Select Threshold: 5, Split Threshold: 11, diff: 0.27%.
[1] Select Threshold: 5, Split Threshold: 14, diff: -0.10%.
[1] Select Threshold: 5, Split Threshold: 12, diff: 0.15%.
[1] Select Threshold: 5, Split Threshold: 13, diff: 0.01%.
[1] Select Threshold: 6, Split Threshold: 53, diff: -4.19%.
[1] Select Threshold: 6, Split Threshold: 29, diff: -2.63%.
[1] Select Threshold: 6, Split Threshold: 17, diff: -1.58%.
[1] Select Threshold: 6, Split Threshold: 11, diff: -0.59%.
[1] Select Threshold: 6, Split Threshold: 8, diff: 4.42%.
[1] Select Threshold: 6, Split Threshold: 9, diff: 1.24%.
[1] Select Threshold: 6, Split Threshold: 10, diff: 0.02%.
[1] Select Threshold: 7, Split Threshold: 53, diff: -5.33%.
[1] Select Threshold: 7, Split Threshold: 29, diff: -3.66%.
[1] Select Threshold: 7, Split Threshold: 17, diff: -2.36%.
[1] Select Threshold: 7, Split Threshold: 11, diff: -0.45%.
[1] Select Threshold: 7, Split Threshold: 8, diff: 5.77%.
[1] Select Threshold: 7, Split Threshold: 9, diff: 2.59%.
[1] Select Threshold: 7, Split Threshold: 10, diff: 0.72%.
[1] Select Threshold: 8, Split Threshold: 53, diff: -6.20%.
[1] Select Threshold: 8, Split Threshold: 29, diff: -4.40%.
[1] Select Threshold: 8, Split Threshold: 17, diff: -2.71%.
[1] Select Threshold: 8, Split Threshold: 11, diff: 0.39%.
[1] Select Threshold: 8, Split Threshold: 14, diff: -1.81%.
[1] Select Threshold: 8, Split Threshold: 12, diff: -0.62%.
[1] Select Threshold: 9, Split Threshold: 53, diff: -6.83%.
[1] Select Threshold: 9, Split Threshold: 29, diff: -4.87%.
[1] Select Threshold: 9, Split Threshold: 17, diff: -2.62%.
[1] Select Threshold: 9, Split Threshold: 11, diff: 1.52%.
[1] Select Threshold: 9, Split Threshold: 14, diff: -1.26%.
[1] Select Threshold: 9, Split Threshold: 12, diff: 0.31%.
[1] Select Threshold: 9, Split Threshold: 13, diff: -0.60%.
[1] Select Threshold: 10, Split Threshold: 53, diff: -7.14%.
[1] Select Threshold: 10, Split Threshold: 29, diff: -5.00%.
[1] Select Threshold: 10, Split Threshold: 17, diff: -2.13%.
[1] Select Threshold: 10, Split Threshold: 11, diff: 2.60%.
[1] Select Threshold: 10, Split Threshold: 14, diff: -0.48%.
[1] Select Threshold: 10, Split Threshold: 12, diff: 1.30%.
[1] Select Threshold: 10, Split Threshold: 13, diff: 0.30%.
[1] Select Threshold: 11, Split Threshold: 53, diff: -7.19%.
[1] Select Threshold: 11, Split Threshold: 29, diff: -4.85%.
[1] Select Threshold: 11, Split Threshold: 17, diff: -1.50%.
[1] Select Threshold: 11, Split Threshold: 11, diff: 3.58%.
[1] Select Threshold: 11, Split Threshold: 14, diff: 0.31%.
[1] Select Threshold: 11, Split Threshold: 15, diff: -0.32%.
[1] Select Threshold: 12, Split Threshold: 53, diff: -7.06%.
[1] Select Threshold: 12, Split Threshold: 29, diff: -4.54%.
[1] Select Threshold: 12, Split Threshold: 17, diff: -0.88%.
[1] Select Threshold: 12, Split Threshold: 11, diff: 4.31%.
[1] Select Threshold: 12, Split Threshold: 14, diff: 1.01%.
[1] Select Threshold: 12, Split Threshold: 15, diff: 0.35%.
[1] Select Threshold: 12, Split Threshold: 16, diff: -0.17%.
[1] Select Threshold: 13, Split Threshold: 53, diff: -6.81%.
[1] Select Threshold: 13, Split Threshold: 29, diff: -4.17%.
[1] Select Threshold: 13, Split Threshold: 17, diff: -0.34%.
[1] Select Threshold: 13, Split Threshold: 11, diff: 3.55%.
[1] Select Threshold: 13, Split Threshold: 14, diff: 1.58%.
[1] Select Threshold: 13, Split Threshold: 15, diff: 0.92%.
[1] Select Threshold: 13, Split Threshold: 16, diff: 0.38%.
[1] Select Threshold: 14, Split Threshold: 53, diff: -6.50%.
[1] Select Threshold: 14, Split Threshold: 29, diff: -3.80%.
[1] Select Threshold: 14, Split Threshold: 17, diff: 0.11%.
[1] Select Threshold: 14, Split Threshold: 23, diff: -2.41%.
[1] Select Threshold: 14, Split Threshold: 20, diff: -1.45%.
[1] Select Threshold: 14, Split Threshold: 18, diff: -0.49%.
[1] Select Threshold: 15, Split Threshold: 53, diff: -6.18%.
[1] Select Threshold: 15, Split Threshold: 29, diff: -3.46%.
[1] Select Threshold: 15, Split Threshold: 17, diff: 0.48%.
[1] Select Threshold: 15, Split Threshold: 23, diff: -2.05%.
[1] Select Threshold: 15, Split Threshold: 20, diff: -1.08%.
[1] Select Threshold: 15, Split Threshold: 18, diff: -0.12%.
[1] Select Threshold: 16, Split Threshold: 53, diff: -5.88%.
[1] Select Threshold: 16, Split Threshold: 29, diff: -3.17%.
[1] Select Threshold: 16, Split Threshold: 17, diff: 0.78%.
[1] Select Threshold: 16, Split Threshold: 23, diff: -1.75%.
[1] Select Threshold: 16, Split Threshold: 20, diff: -0.78%.
[1] Select Threshold: 16, Split Threshold: 18, diff: 0.18%.
[1] Select Threshold: 16, Split Threshold: 19, diff: -0.34%.
[1] Select Threshold: 17, Split Threshold: 53, diff: -5.61%.
[1] Select Threshold: 17, Split Threshold: 29, diff: -2.94%.
[1] Select Threshold: 17, Split Threshold: 17, diff: 1.01%.
[1] Select Threshold: 17, Split Threshold: 23, diff: -1.52%.
[1] Select Threshold: 17, Split Threshold: 20, diff: -0.55%.
[1] Select Threshold: 17, Split Threshold: 18, diff: 0.41%.
[1] Select Threshold: 17, Split Threshold: 19, diff: -0.11%.
[1] Select Threshold: 18, Split Threshold: 53, diff: -5.38%.
[1] Select Threshold: 18, Split Threshold: 29, diff: -2.75%.
[1] Select Threshold: 18, Split Threshold: 17, diff: 1.19%.
[1] Select Threshold: 18, Split Threshold: 23, diff: -1.34%.
[1] Select Threshold: 18, Split Threshold: 20, diff: -0.37%.
[1] Select Threshold: 18, Split Threshold: 18, diff: 0.59%.
[1] Select Threshold: 18, Split Threshold: 19, diff: 0.08%.
[1] Select Threshold: 19, Split Threshold: 53, diff: -5.20%.
[1] Select Threshold: 19, Split Threshold: 29, diff: -2.61%.
[1] Select Threshold: 19, Split Threshold: 17, diff: 0.73%.
[1] Select Threshold: 19, Split Threshold: 23, diff: -1.20%.
[1] Select Threshold: 19, Split Threshold: 20, diff: -0.22%.
[1] Select Threshold: 19, Split Threshold: 18, diff: 0.73%.
[1] Select Threshold: 19, Split Threshold: 19, diff: 0.22%.
[1] Select Threshold: 20, Split Threshold: 53, diff: -5.06%.
[1] Select Threshold: 20, Split Threshold: 29, diff: -2.50%.
[1] Select Threshold: 20, Split Threshold: 17, diff: 0.33%.
[1] Select Threshold: 20, Split Threshold: 23, diff: -1.10%.
[1] Select Threshold: 20, Split Threshold: 20, diff: -0.11%.
[1] Select Threshold: 20, Split Threshold: 18, diff: 0.33%.
[1] Select Threshold: 20, Split Threshold: 19, diff: 0.33%.
[1] Select Threshold: 21, Split Threshold: 53, diff: -4.94%.
[1] Select Threshold: 21, Split Threshold: 29, diff: -2.41%.
[1] Select Threshold: 21, Split Threshold: 17, diff: -0.03%.
[1] Select Threshold: 21, Split Threshold: 11, diff: -0.03%.
[1] Select Threshold: 21, Split Threshold: 8, diff: -0.03%.
[1] Select Threshold: 21, Split Threshold: 7, diff: -0.03%.
[1] Select Threshold: 22, Split Threshold: 53, diff: -4.85%.
[1] Select Threshold: 22, Split Threshold: 29, diff: -2.35%.
[1] Select Threshold: 22, Split Threshold: 17, diff: -0.34%.
[1] Select Threshold: 22, Split Threshold: 11, diff: -0.34%.
[1] Select Threshold: 22, Split Threshold: 8, diff: -0.34%.
[1] Select Threshold: 22, Split Threshold: 7, diff: -0.34%.
[1] Select Threshold: 23, Split Threshold: 53, diff: -4.77%.
[1] Select Threshold: 23, Split Threshold: 29, diff: -2.30%.
[1] Select Threshold: 23, Split Threshold: 17, diff: -0.62%.
[1] Select Threshold: 23, Split Threshold: 11, diff: -0.62%.
[1] Select Threshold: 23, Split Threshold: 8, diff: -0.62%.
[1] Select Threshold: 23, Split Threshold: 7, diff: -0.62%.
[1] Select Threshold: 24, Split Threshold: 53, diff: -4.72%.
[1] Select Threshold: 24, Split Threshold: 29, diff: -2.26%.
[1] Select Threshold: 24, Split Threshold: 17, diff: -0.86%.
[1] Select Threshold: 24, Split Threshold: 11, diff: -0.86%.
[1] Select Threshold: 24, Split Threshold: 8, diff: -0.86%.
[1] Select Threshold: 24, Split Threshold: 7, diff: -0.86%.
[1] Select Threshold: 25, Split Threshold: 53, diff: -4.67%.
[1] Select Threshold: 25, Split Threshold: 29, diff: -2.23%.
[1] Select Threshold: 25, Split Threshold: 17, diff: -1.07%.
[1] Select Threshold: 25, Split Threshold: 11, diff: -1.07%.
[1] Select Threshold: 25, Split Threshold: 8, diff: -1.07%.
[1] Select Threshold: 25, Split Threshold: 7, diff: -1.07%.
[1] Select Threshold: 26, Split Threshold: 53, diff: -4.63%.
[1] Select Threshold: 26, Split Threshold: 29, diff: -2.20%.
[1] Select Threshold: 26, Split Threshold: 17, diff: -1.33%.
[1] Select Threshold: 26, Split Threshold: 11, diff: -1.33%.
[1] Select Threshold: 26, Split Threshold: 8, diff: -1.33%.
[1] Select Threshold: 26, Split Threshold: 7, diff: -1.33%.
[1] Select Threshold: 27, Split Threshold: 53, diff: -4.60%.
[1] Select Threshold: 27, Split Threshold: 29, diff: -2.18%.
[1] Select Threshold: 27, Split Threshold: 17, diff: -1.57%.
[1] Select Threshold: 27, Split Threshold: 11, diff: -1.57%.
[1] Select Threshold: 27, Split Threshold: 8, diff: -1.57%.
[1] Select Threshold: 27, Split Threshold: 7, diff: -1.57%.
[1] Select Threshold: 28, Split Threshold: 53, diff: -4.58%.
[1] Select Threshold: 28, Split Threshold: 29, diff: -2.16%.
[1] Select Threshold: 28, Split Threshold: 17, diff: -1.78%.
[1] Select Threshold: 28, Split Threshold: 11, diff: -1.78%.
[1] Select Threshold: 28, Split Threshold: 8, diff: -1.78%.
[1] Select Threshold: 28, Split Threshold: 7, diff: -1.78%.
[1] Select Threshold: 29, Split Threshold: 53, diff: -4.56%.
[1] Select Threshold: 29, Split Threshold: 29, diff: -2.14%.
[1] Select Threshold: 29, Split Threshold: 17, diff: -1.96%.
[1] Select Threshold: 29, Split Threshold: 11, diff: -1.96%.
[1] Select Threshold: 29, Split Threshold: 8, diff: -1.96%.
[1] Select Threshold: 29, Split Threshold: 7, diff: -1.96%.
[1] Select Threshold: 30, Split Threshold: 53, diff: -4.54%.
[1] Select Threshold: 30, Split Threshold: 29, diff: -2.13%.
[1] Select Threshold: 30, Split Threshold: 17, diff: -2.13%.
[1] Select Threshold: 30, Split Threshold: 11, diff: -2.13%.
[1] Select Threshold: 30, Split Threshold: 8, diff: -2.13%.
[1] Select Threshold: 30, Split Threshold: 7, diff: -2.13%.
[1] Select Threshold: 31, Split Threshold: 53, diff: -4.53%.
[1] Select Threshold: 31, Split Threshold: 29, diff: -2.28%.
[1] Select Threshold: 31, Split Threshold: 17, diff: -2.28%.
[1] Select Threshold: 31, Split Threshold: 11, diff: -2.28%.
[1] Select Threshold: 31, Split Threshold: 8, diff: -2.28%.
[1] Select Threshold: 31, Split Threshold: 7, diff: -2.28%.
[1] Select Threshold: 32, Split Threshold: 53, diff: -4.52%.
[1] Select Threshold: 32, Split Threshold: 29, diff: -2.42%.
[1] Select Threshold: 32, Split Threshold: 17, diff: -2.42%.
[1] Select Threshold: 32, Split Threshold: 11, diff: -2.42%.
[1] Select Threshold: 32, Split Threshold: 8, diff: -2.42%.
[1] Select Threshold: 32, Split Threshold: 7, diff: -2.42%.
[1] Select Threshold: 33, Split Threshold: 53, diff: -4.51%.
[1] Select Threshold: 33, Split Threshold: 29, diff: -2.54%.
[1] Select Threshold: 33, Split Threshold: 17, diff: -2.54%.
[1] Select Threshold: 33, Split Threshold: 11, diff: -2.54%.
[1] Select Threshold: 33, Split Threshold: 8, diff: -2.54%.
[1] Select Threshold: 33, Split Threshold: 7, diff: -2.54%.
[1] Select Threshold: 34, Split Threshold: 53, diff: -4.50%.
[1] Select Threshold: 34, Split Threshold: 29, diff: -2.69%.
[1] Select Threshold: 34, Split Threshold: 17, diff: -2.69%.
[1] Select Threshold: 34, Split Threshold: 11, diff: -2.69%.
[1] Select Threshold: 34, Split Threshold: 8, diff: -2.69%.
[1] Select Threshold: 34, Split Threshold: 7, diff: -2.69%.
[1] Select Threshold: 35, Split Threshold: 53, diff: -4.49%.
[1] Select Threshold: 35, Split Threshold: 29, diff: -2.82%.
[1] Select Threshold: 35, Split Threshold: 17, diff: -2.82%.
[1] Select Threshold: 35, Split Threshold: 11, diff: -2.82%.
[1] Select Threshold: 35, Split Threshold: 8, diff: -2.82%.
[1] Select Threshold: 35, Split Threshold: 7, diff: -2.82%.
[1] Select Threshold: 36, Split Threshold: 53, diff: -4.48%.
[1] Select Threshold: 36, Split Threshold: 29, diff: -2.94%.
[1] Select Threshold: 36, Split Threshold: 17, diff: -2.94%.
[1] Select Threshold: 36, Split Threshold: 11, diff: -2.94%.
[1] Select Threshold: 36, Split Threshold: 8, diff: -2.94%.
[1] Select Threshold: 36, Split Threshold: 7, diff: -2.94%.
[1] Select Threshold: 37, Split Threshold: 53, diff: -4.48%.
[1] Select Threshold: 37, Split Threshold: 29, diff: -3.05%.
[1] Select Threshold: 37, Split Threshold: 17, diff: -3.05%.
[1] Select Threshold: 37, Split Threshold: 11, diff: -3.05%.
[1] Select Threshold: 37, Split Threshold: 8, diff: -3.05%.
[1] Select Threshold: 37, Split Threshold: 7, diff: -3.05%.
[1] Select Threshold: 38, Split Threshold: 53, diff: -4.47%.
[1] Select Threshold: 38, Split Threshold: 29, diff: -3.16%.
[1] Select Threshold: 38, Split Threshold: 17, diff: -3.16%.
[1] Select Threshold: 38, Split Threshold: 11, diff: -3.16%.
[1] Select Threshold: 38, Split Threshold: 8, diff: -3.16%.
[1] Select Threshold: 38, Split Threshold: 7, diff: -3.16%.
[1] Select Threshold: 39, Split Threshold: 53, diff: -4.47%.
[1] Select Threshold: 39, Split Threshold: 29, diff: -3.25%.
[1] Select Threshold: 39, Split Threshold: 17, diff: -3.25%.
[1] Select Threshold: 39, Split Threshold: 11, diff: -3.25%.
[1] Select Threshold: 39, Split Threshold: 8, diff: -3.25%.
[1] Select Threshold: 39, Split Threshold: 7, diff: -3.25%.
[1] Select Threshold: 40, Split Threshold: 53, diff: -4.47%.
[1] Select Threshold: 40, Split Threshold: 29, diff: -3.34%.
[1] Select Threshold: 40, Split Threshold: 17, diff: -3.34%.
[1] Select Threshold: 40, Split Threshold: 11, diff: -3.34%.
[1] Select Threshold: 40, Split Threshold: 8, diff: -3.34%.
[1] Select Threshold: 40, Split Threshold: 7, diff: -3.34%.
[1] Select Threshold: 41, Split Threshold: 53, diff: -4.46%.
[1] Select Threshold: 41, Split Threshold: 29, diff: -3.43%.
[1] Select Threshold: 41, Split Threshold: 17, diff: -3.43%.
[1] Select Threshold: 41, Split Threshold: 11, diff: -3.43%.
[1] Select Threshold: 41, Split Threshold: 8, diff: -3.43%.
[1] Select Threshold: 41, Split Threshold: 7, diff: -3.43%.
[1] Select Threshold: 42, Split Threshold: 53, diff: -4.46%.
[1] Select Threshold: 42, Split Threshold: 29, diff: -3.52%.
[1] Select Threshold: 42, Split Threshold: 17, diff: -3.52%.
[1] Select Threshold: 42, Split Threshold: 11, diff: -3.52%.
[1] Select Threshold: 42, Split Threshold: 8, diff: -3.52%.
[1] Select Threshold: 42, Split Threshold: 7, diff: -3.52%.
[1] Select Threshold: 43, Split Threshold: 53, diff: -4.45%.
[1] Select Threshold: 43, Split Threshold: 29, diff: -3.61%.
[1] Select Threshold: 43, Split Threshold: 17, diff: -3.61%.
[1] Select Threshold: 43, Split Threshold: 11, diff: -3.61%.
[1] Select Threshold: 43, Split Threshold: 8, diff: -3.61%.
[1] Select Threshold: 43, Split Threshold: 7, diff: -3.61%.
[1] Select Threshold: 44, Split Threshold: 53, diff: -4.45%.
[1] Select Threshold: 44, Split Threshold: 29, diff: -3.70%.
[1] Select Threshold: 44, Split Threshold: 17, diff: -3.70%.
[1] Select Threshold: 44, Split Threshold: 11, diff: -3.70%.
[1] Select Threshold: 44, Split Threshold: 8, diff: -3.70%.
[1] Select Threshold: 44, Split Threshold: 7, diff: -3.70%.
[1] Select Threshold: 45, Split Threshold: 53, diff: -4.45%.
[1] Select Threshold: 45, Split Threshold: 29, diff: -3.78%.
[1] Select Threshold: 45, Split Threshold: 17, diff: -3.78%.
[1] Select Threshold: 45, Split Threshold: 11, diff: -3.78%.
[1] Select Threshold: 45, Split Threshold: 8, diff: -3.78%.
[1] Select Threshold: 45, Split Threshold: 7, diff: -3.78%.
[1] Select Threshold: 46, Split Threshold: 53, diff: -4.45%.
[1] Select Threshold: 46, Split Threshold: 29, diff: -3.86%.
[1] Select Threshold: 46, Split Threshold: 17, diff: -3.86%.
[1] Select Threshold: 46, Split Threshold: 11, diff: -3.86%.
[1] Select Threshold: 46, Split Threshold: 8, diff: -3.86%.
[1] Select Threshold: 46, Split Threshold: 7, diff: -3.86%.
[1] Select Threshold: 47, Split Threshold: 53, diff: -4.44%.
[1] Select Threshold: 47, Split Threshold: 29, diff: -3.93%.
[1] Select Threshold: 47, Split Threshold: 17, diff: -3.93%.
[1] Select Threshold: 47, Split Threshold: 11, diff: -3.93%.
[1] Select Threshold: 47, Split Threshold: 8, diff: -3.93%.
[1] Select Threshold: 47, Split Threshold: 7, diff: -3.93%.
[1] Select Threshold: 48, Split Threshold: 53, diff: -4.44%.
[1] Select Threshold: 48, Split Threshold: 29, diff: -4.00%.
[1] Select Threshold: 48, Split Threshold: 17, diff: -4.00%.
[1] Select Threshold: 48, Split Threshold: 11, diff: -4.00%.
[1] Select Threshold: 48, Split Threshold: 8, diff: -4.00%.
[1] Select Threshold: 48, Split Threshold: 7, diff: -4.00%.
[1] Select Threshold: 49, Split Threshold: 53, diff: -4.44%.
[1] Select Threshold: 49, Split Threshold: 29, diff: -4.07%.
[1] Select Threshold: 49, Split Threshold: 17, diff: -4.07%.
[1] Select Threshold: 49, Split Threshold: 11, diff: -4.07%.
[1] Select Threshold: 49, Split Threshold: 8, diff: -4.07%.
[1] Select Threshold: 49, Split Threshold: 7, diff: -4.07%.
[1] Select Threshold: 50, Split Threshold: 53, diff: -4.43%.
[1] Select Threshold: 50, Split Threshold: 29, diff: -4.15%.
[1] Select Threshold: 50, Split Threshold: 17, diff: -4.15%.
[1] Select Threshold: 50, Split Threshold: 11, diff: -4.15%.
[1] Select Threshold: 50, Split Threshold: 8, diff: -4.15%.
[1] Select Threshold: 50, Split Threshold: 7, diff: -4.15%.
[1] Final Select Threshold: 5, Split Threshold: 13.
[1] Seleted Nodes: 16011970, about 16.01% of total.
[1] Total used time: 39.58 minutes (about 0.66 hours).
[1] select head time: 2480.00s
[1] Begin Build Head...
[1] Setting DistCalcMethod with value L2
[1] Setting TPTNumber with value 32
[1] Setting TPTLeafSize with value 2000
[1] Setting RefineIterations with value 3
[1] Setting NumberOfThreads with value 32
[1] Setting NeighborhoodSize with value 32
[1] Setting MaxCheckForRefineGraph with value 8192
[1] Setting MaxCheck with value 8192
[1] Setting BKTLambdaFactor with value -1
[1] Load Vector(16011970,96)
[1] Begin build index...
[1] Lambda:min(1,0.000560255) Max:826627 Min:187618 Avg:500374.062500 Std/Avg:0.317176 Dist:14031261.000000 NonZero/Total:32/32
[1] Lambda:min(0.1,0.00073193) Max:910659 Min:174971 Avg:500374.062500 Std/Avg:0.346781 Dist:13985204.000000 NonZero/Total:32/32
[1] Lambda:min(0.01,0.000701744) Max:934466 Min:203034 Avg:500374.062500 Std/Avg:0.411048 Dist:13954477.000000 NonZero/Total:32/32
[1] Lambda:min(0.001,0.000986381) Max:838611 Min:257014 Avg:500374.062500 Std/Avg:0.328011 Dist:13976057.000000 NonZero/Total:32/32
[1] Lambda:min(0.0001,0.000547651) Max:801628 Min:184935 Avg:500374.062500 Std/Avg:0.328064 Dist:13917517.000000 NonZero/Total:32/32
[1] Lambda:min(1e-05,0.00065916) Max:1257955 Min:183725 Avg:500374.062500 Std/Avg:0.495804 Dist:14097337.000000 NonZero/Total:32/32
[1] Lambda:min(1e-06,0.000598066) Max:866957 Min:165779 Avg:500374.062500 Std/Avg:0.385443 Dist:14030445.000000 NonZero/Total:32/32
[1] Best Lambda Factor:0.001000
[1] Start to build BKTree 1
[1] Lambda:min(1,0.000489006) Max:879975 Min:248177 Avg:500374.062500 Std/Avg:0.329835 Dist:14053367.000000 NonZero/Total:32/32
[1] Lambda:min(1,0.000630454) Max:51816 Min:6526 Avg:27499.187500 Std/Avg:0.446616 Dist:426683.281250 NonZero/Total:32/32
[1] Lambda:min(1,0.000220171) Max:4420 Min:0 Avg:1619.218750 Std/Avg:0.728585 Dist:13287.094727 NonZero/Total:28/32
[1] Lambda:min(1,0.00016206) Max:563 Min:0 Avg:138.093750 Std/Avg:0.888100 Dist:829.313293 NonZero/Total:27/32
[1] Lambda:min(1.77936,0.000283235) Max:56 Min:1 Avg:17.562500 Std/Avg:0.762189 Dist:81.180779 NonZero/Total:32/32
[1] Lambda:min(18.1818,0.00145291) Max:12 Min:1 Avg:1.718750 Std/Avg:1.147473 Dist:2.942894 NonZero/Total:32/32
[1] Lambda:min(90.9091,0) Max:1 Min:0 Avg:0.343750 Std/Avg:1.381699 Dist:0.000000 NonZero/Total:11/32
[1] 1 BKTree built, 16011972 16011970
[1] Build Tree time (s): 222
[1] build RNG graph!
[1] Parallel TpTree Partition begin
[1] Finish Getting Leaves for Tree 1
[1] Finish Getting Leaves for Tree 0
[1] Finish Getting Leaves for Tree 3
[1] Finish Getting Leaves for Tree 4
[1] Finish Getting Leaves for Tree 5
[1] Finish Getting Leaves for Tree 2
[1] Finish Getting Leaves for Tree 6
[1] Finish Getting Leaves for Tree 8
[1] Finish Getting Leaves for Tree 12
[1] Finish Getting Leaves for Tree 9
[1] Finish Getting Leaves for Tree 7
[1] Finish Getting Leaves for Tree 10
[1] Finish Getting Leaves for Tree 28
[1] Finish Getting Leaves for Tree 20
[1] Finish Getting Leaves for Tree 29
[1] Finish Getting Leaves for Tree 17
[1] Finish Getting Leaves for Tree 11
[1] Finish Getting Leaves for Tree 19
[1] Finish Getting Leaves for Tree 13
[1] Finish Getting Leaves for Tree 15
[1] Finish Getting Leaves for Tree 26
[1] Finish Getting Leaves for Tree 30
[1] Finish Getting Leaves for Tree 31
[1] Finish Getting Leaves for Tree 22
[1] Finish Getting Leaves for Tree 18
[1] Finish Getting Leaves for Tree 14
[1] Finish Getting Leaves for Tree 25
[1] Finish Getting Leaves for Tree 27
[1] Finish Getting Leaves for Tree 24
[1] Finish Getting Leaves for Tree 23
[1] Finish Getting Leaves for Tree 16
[1] Finish Getting Leaves for Tree 21
[1] Parallel TpTree Partition done
[1] Build TPTree time (s): 69
[1] Processing Tree 0 0%
[1] Processing Tree 1 0%
[1] Processing Tree 2 0%
[1] Processing Tree 3 0%
[1] Processing Tree 3 20%
[1] Processing Tree 3 40%
[1] Processing Tree 3 60%
[1] Processing Tree 3 80%
[1] Processing Tree 4 0%
[1] Processing Tree 5 0%
[1] Processing Tree 6 0%
[1] Processing Tree 7 0%
[1] Processing Tree 7 20%
[1] Processing Tree 7 40%
[1] Processing Tree 7 60%
[1] Processing Tree 7 80%
[1] Processing Tree 8 0%
[1] Processing Tree 9 0%
[1] Processing Tree 10 0%
[1] Processing Tree 11 0%
[1] Processing Tree 12 0%
[1] Processing Tree 12 20%
[1] Processing Tree 12 40%
[1] Processing Tree 12 60%
[1] Processing Tree 12 80%
[1] Processing Tree 13 0%
[1] Processing Tree 14 0%
[1] Processing Tree 15 0%
[1] Processing Tree 16 0%
[1] Processing Tree 17 0%
[1] Processing Tree 18 0%
[1] Processing Tree 19 0%
[1] Processing Tree 19 20%
[1] Processing Tree 19 40%
[1] Processing Tree 19 60%
[1] Processing Tree 19 80%
[1] Processing Tree 20 0%
[1] Processing Tree 21 0%
[1] Processing Tree 22 0%
[1] Processing Tree 23 0%
[1] Processing Tree 24 0%
[1] Processing Tree 25 0%
[1] Processing Tree 25 20%
[1] Processing Tree 25 40%
[1] Processing Tree 25 60%
[1] Processing Tree 25 80%
[1] Processing Tree 26 0%
[1] Processing Tree 27 0%
[1] Processing Tree 28 0%
[1] Processing Tree 28 20%
[1] Processing Tree 28 40%
[1] Processing Tree 28 60%
[1] Processing Tree 28 80%
[1] Processing Tree 29 0%
[1] Processing Tree 30 0%
[1] Processing Tree 31 0%
[1] Process TPTree time (s): 1181
[1] BuildInitKNNGraph time (s): 1256
[1] Refine 0 0%
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[4] Hash table is full! Set HashTableExponent to larger value (default is 2). NewHashTableExponent=3 NewPoolSize=131071
[1] Refine 0 20%
[1] Refine 0 40%
[1] Refine 0 60%
[1] Refine 0 80%
[1] Refine RNG time (s): 4701 Graph Acc: 0.989062
[1] Refine 1 0%
[1] Refine 1 20%
[1] Refine 1 40%
[1] Refine 1 60%
[1] Refine 1 80%
[1] Refine RNG time (s): 4722 Graph Acc: 0.997344
[1] Refine 2 0%
[1] Refine 2 20%
[1] Refine 2 40%
[1] Refine 2 60%
[1] Refine 2 80%
[1] Refine RNG time (s): 1902 Graph Acc: 0.997500
[1] BuildGraph time (s): 12595
[1] Build Graph time (s): 12597
[1] Save Vector (16011970,96) Finish!
[1] Save BKT (1,16011972) Finish!
[1] Save RNG (16011970,32) Finish!
[1] Save DeleteID (16011970,1) Finish!
[1] Setting TreeFilePath with value tree.bin
[1] Setting GraphFilePath with value graph.bin
[1] Setting VectorFilePath with value vectors.bin
[1] Setting DeleteVectorFilePath with value deletes.bin
[1] Setting EnableBfs with value 0
[1] Setting BKTNumber with value 1
[1] Setting BKTKmeansK with value 32
[1] Setting BKTLeafSize with value 8
[1] Setting Samples with value 1000
[1] Setting BKTLambdaFactor with value 0.001000
[1] Setting TPTNumber with value 32
[1] Setting TPTLeafSize with value 2000
[1] Setting NumTopDimensionTpTreeSplit with value 5
[1] Setting NeighborhoodSize with value 32
[1] Setting GraphNeighborhoodScale with value 2.000000
[1] Setting GraphCEFScale with value 2.000000
[1] Setting RefineIterations with value 3
[1] Setting EnableRebuild with value 0
[1] Setting CEF with value 1000
[1] Setting AddCEF with value 500
[1] Setting MaxCheckForRefineGraph with value 8192
[1] Setting RNGFactor with value 1.000000
[1] Setting GPUGraphType with value 2
[1] Setting GPURefineSteps with value 0
[1] Setting GPURefineDepth with value 30
[1] Setting GPULeafSize with value 500
[1] Setting HeadNumGPUs with value 1
[1] Setting TPTBalanceFactor with value 2
[1] Setting NumberOfThreads with value 32
[1] Setting DistCalcMethod with value L2
[1] Setting DeletePercentageForRefine with value 0.400000
[1] Setting AddCountForRebuild with value 1000
[1] Setting MaxCheck with value 8192
[1] Setting ThresholdOfNumberOfContinuousNoBetterPropagation with value 3
[1] Setting NumberOfInitialDynamicPivots with value 50
[1] Setting NumberOfOtherDynamicPivots with value 4
[1] Setting HashTableExponent with value 3
[1] Setting DataBlockSize with value 1048576
[1] Setting DataCapacity with value 2147483647
[1] Setting MetaRecordSize with value 10
[1] Load Vector (16011970,96) Finish!
[1] Load BKT (1,16011972) Finish!
[1] Load RNG (16011970,32) Finish!
[1] Load DeleteID (16011970,1) Finish!
[1] select head time: 2480.00s build head time: 12831.00s
[1] Begin Build SSDIndex...
[1] Setting NumberOfThreads with value 1
[1] Setting MaxCheck with value 2048
[1] Setting HashTableExponent with value 4
[1] Loaded 16011970 Vector IDs
[1] Full vector count:100000000 Edge bytes:12 selection size:400000000, capacity size:400000000
[1] Preparation done, start candidate searching.
[1] Batch 0 vector(0,100000000) loaded with 100000000 vectors (400000000) HeadIndex acc @64:0.874687.
[1] Delete workspace happens!
[1] Searching replicas ended. RNG failed count: 804601917
[1] Batch 0 finished!
[1] Searching replicas ended. Search Time: 410.18 mins
[1] Time to sort selections:102.24 sec.
[1] Build index with posting page limit:12
[1] Posting size limit: 126
[1] Before Posting Cut:
[1] Replica Count Dist: 0, 0
[1] Replica Count Dist: 1, 371098
[1] Replica Count Dist: 2, 1198790
[1] Replica Count Dist: 3, 2598939
[1] Replica Count Dist: 4, 79819203
[1] Time to perform posting cut:6.31 sec.
[1] TotalPageNumbers: 31403475, IndexSize: 128628635668
[1] Start output...
[1] SubIndex Size: 192147456 bytes, 183 MBytes
[1] Padded Size: 690359656, final total size: 128628637696.
[1] Output done...
[1] Time to write results:648.11 sec.
[1] Total used time: 416.87 minutes (about 6.95 hours).
[1] Load index with posting page limit:12
[1] Finish reading header info, list count 16011970, total doc count 100000000, dimension 96, list page offset 46911.
[1] Big page (>4K): list count 13189988, total element count 310441599.
[1] Total Element Count: 329737830
[1] Page Count Dist: 0 52130
[1] Page Count Dist: 1 2769852
[1] Page Count Dist: 2 6683483
[1] Page Count Dist: 3 4087377
[1] Page Count Dist: 4 1728634
[1] Page Count Dist: 5 477968
[1] Page Count Dist: 6 153639
[1] Page Count Dist: 7 39870
[1] Page Count Dist: 8 12958
[1] Page Count Dist: 9 3893
[1] Page Count Dist: 10 1124
[1] Page Count Dist: 11 442
[1] Page Count Dist: 12 600
[1] select head time: 2480.00s build head time: 12831.00s build ssd time: 25153.00s
[1] Start loading warmup query set...
[1] Start warmup...
[1] Searching: numThread: 1, numQueries: 10000.
[1] Sent 0.00%...
[1] Delete workspace happens!
[1] Finish sending in 36.133 seconds, actuallQPS is 276.76, query count 10000.
[1] 
Finish warmup...
[1] Start loading QuerySet...
[1] Start ANN Search...
[1] Searching: numThread: 1, numQueries: 10000.
[1] Sent 0.00%...
[1] Delete workspace happens!
[1] Finish sending in 10.676 seconds, actuallQPS is 936.68, query count 10000.
[1] 
Finish ANN Search...
[1] 
Load VectorSet(100000000,96).
[1] Start loading TruthFile...
[1] Recall10@10: 0.745780 MRR@10: 0.996950
[1] 
Ex Elements Count:
[1] Avg	50tiles	90tiles	95tiles	99tiles	99.9tiles	Max
[1] 841.652	832.000	1026.000	1092.000	1234.000	1431.000	3136.000
[1] 
Head Latency Distribution:
[1] Avg	50tiles	90tiles	95tiles	99tiles	99.9tiles	Max
[1] 0.312	0.311	0.339	0.351	0.375	0.423	0.642
[1] 
Ex Latency Distribution:
[1] Avg	50tiles	90tiles	95tiles	99tiles	99.9tiles	Max
[1] 0.756	0.660	1.062	1.343	2.134	3.840	6.734
[1] 
Total Latency Distribution:
[1] Avg	50tiles	90tiles	95tiles	99tiles	99.9tiles	Max
[1] 1.068	0.974	1.383	1.655	2.464	4.136	7.021
[1] 
Total Disk Page Access Distribution:
[1] Avg	50tiles	90tiles	95tiles	99tiles	99.9tiles	Max
[1] 95.308	  95	 113	 120	 132	 151	 305
[1] 
Total Disk IO Distribution:
[1] Avg	50tiles	90tiles	95tiles	99tiles	99.9tiles	Max
[1] 31.825	  32	  32	  32	  32	  32	  32
[1] 
[1] Recall@10: 0.745780 MRR@10: 0.996950
[1] 
[1] Delete workspace happens!
